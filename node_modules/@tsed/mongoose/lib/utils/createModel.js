"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createModel = void 0;
const tslib_1 = require("tslib");
const core_1 = require("@tsed/core");
const mongoose_1 = tslib_1.__importDefault(require("mongoose"));
/**
 * Create an instance of mongoose.model from a class.
 *
 * @param {Type<any>} target Class attached to the schema and model.
 * @param {"mongoose".Schema} schema Schema that will be attached to the model.
 * @param name model name
 * @param collection (optional, induced from model name)
 * @param skipInit whether to skip initialization (defaults to false)
 * @param connection
 * @returns {Model<T extends Document>}
 */
function createModel(target, schema, name = core_1.nameOf(target), collection, skipInit, connection) {
    /* istanbul ignore else */
    if (connection) {
        return connection.model(name, schema, collection);
    }
    return mongoose_1.default.model(name, schema, collection, skipInit);
}
exports.createModel = createModel;
//# sourceMappingURL=createModel.js.map