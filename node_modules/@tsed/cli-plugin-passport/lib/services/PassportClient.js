"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PassportClient = void 0;
const tslib_1 = require("tslib");
const cli_core_1 = require("@tsed/cli-core");
const HOST = "http://www.passportjs.org/packages";
let PassportClient = class PassportClient {
    getPackages() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const result = yield this.httpClient.get(`${HOST}/-/all.json`, {});
            return Object.values(result).filter((o) => {
                return o.name && o.name.startsWith("passport-");
            });
        });
    }
};
tslib_1.__decorate([
    cli_core_1.Inject(cli_core_1.CliHttpClient),
    tslib_1.__metadata("design:type", cli_core_1.CliHttpClient)
], PassportClient.prototype, "httpClient", void 0);
PassportClient = tslib_1.__decorate([
    cli_core_1.Injectable()
], PassportClient);
exports.PassportClient = PassportClient;
//# sourceMappingURL=PassportClient.js.map