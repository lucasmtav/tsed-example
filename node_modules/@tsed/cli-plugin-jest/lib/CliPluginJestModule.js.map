{"version":3,"file":"CliPluginJestModule.js","sourceRoot":"","sources":["../src/CliPluginJestModule.ts"],"names":[],"mappings":";;;;AAAA,6CAAiE;AACjE,iCAAgC;AAChC,+DAA0D;AAC1D,uDAAkD;AAKlD,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;IAK9B,OAAO;QACL,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,UAAU;QACR,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;YAC1B,IAAI,EAAE,sCAAsC;YAC5C,WAAW,EAAE,8BAA8B;YAC3C,eAAe,EAAE,gBAAgB;SAClC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB;QAChB,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC;YAClC,aAAa,EAAE,QAAQ;YACvB,IAAI,EAAE,QAAQ;YACd,SAAS,EAAE,QAAQ;SACpB,CAAC,CAAC;IACL,CAAC;CACF,CAAA;AAvBC;IADC,WAAM,EAAE;sCACI,6BAAkB;wDAAC;AAGhC;IADC,gBAAK,CAAC,uBAAuB,CAAC;;;;kDAI9B;AARU,mBAAmB;IAH/B,iBAAM,CAAC;QACN,OAAO,EAAE,CAAC,2BAAY,EAAE,mCAAgB,CAAC;KAC1C,CAAC;GACW,mBAAmB,CAyB/B;AAzBY,kDAAmB","sourcesContent":["import {Module, OnAdd, ProjectPackageJson} from \"@tsed/cli-core\";\nimport {Inject} from \"@tsed/di\";\nimport {JestGenerateHook} from \"./hooks/JestGenerateHook\";\nimport {JestInitHook} from \"./hooks/JestInitHook\";\n\n@Module({\n  imports: [JestInitHook, JestGenerateHook]\n})\nexport class CliPluginJestModule {\n  @Inject()\n  packageJson: ProjectPackageJson;\n\n  @OnAdd(\"@tsed/cli-plugin-jest\")\n  install() {\n    this.addScripts();\n    this.addDevDependencies();\n  }\n\n  addScripts() {\n    this.packageJson.addScripts({\n      test: \"yarn test:lint && yarn test:coverage\",\n      \"test:unit\": \"cross-env NODE_ENV=test jest\",\n      \"test:coverage\": \"yarn test:unit\"\n    });\n  }\n\n  addDevDependencies() {\n    this.packageJson.addDevDependencies({\n      \"@types/jest\": \"latest\",\n      jest: \"latest\",\n      \"ts-jest\": \"latest\"\n    });\n  }\n}\n"]}