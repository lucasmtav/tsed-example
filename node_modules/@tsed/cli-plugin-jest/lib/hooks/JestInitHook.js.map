{"version":3,"file":"JestInitHook.js","sourceRoot":"","sources":["../../src/hooks/JestInitHook.ts"],"names":[],"mappings":";;;;AAAA,6CAQwB;AACxB,sDAAkD;AAGlD,IAAa,YAAY,GAAzB,MAAa,YAAY;IAcvB,UAAU;QACR,OAAO;YACL;gBACE,KAAK,EAAE,yBAAyB;gBAChC,IAAI,EAAE,CAAC,GAAQ,EAAE,EAAE;oBACjB,OAAO,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,yBAAyB,CAAC,EAAE,GAAG,EAAE;wBACnE,WAAW,EAAE,0BAAY;qBAC1B,CAAC,CAAC;gBACL,CAAC;aACF;SACF,CAAC;IACJ,CAAC;CACF,CAAA;AAxBC;IADC,iBAAM,EAAE;sCACc,6BAAkB;iDAAC;AAG1C;IADC,iBAAM,EAAE;sCACc,6BAAkB;iDAAC;AAG1C;IADC,iBAAM,EAAE;sCACe,8BAAmB;kDAAC;AAG5C;IADC,iBAAM,EAAE;sCACkB,iCAAsB;qDAAC;AAGlD;IADC,iBAAM,CAAC,MAAM,CAAC;;;;8CAYd;AAzBU,YAAY;IADxB,qBAAU,EAAE;GACA,YAAY,CA0BxB;AA1BY,oCAAY","sourcesContent":["import {\n  Inject,\n  Injectable,\n  OnExec,\n  ProjectPackageJson,\n  RootRendererService,\n  ScriptsRendererService,\n  SrcRendererService\n} from \"@tsed/cli-core\";\nimport {TEMPLATE_DIR} from \"../utils/templateDir\";\n\n@Injectable()\nexport class JestInitHook {\n  @Inject()\n  protected packageJson: ProjectPackageJson;\n\n  @Inject()\n  protected srcRenderer: SrcRendererService;\n\n  @Inject()\n  protected rootRenderer: RootRendererService;\n\n  @Inject()\n  protected scriptsRenderer: ScriptsRendererService;\n\n  @OnExec(\"init\")\n  onInitExec() {\n    return [\n      {\n        title: \"Generate files for jest\",\n        task: (ctx: any) => {\n          return this.rootRenderer.renderAll([\"init/jest.config.js.hbs\"], ctx, {\n            templateDir: TEMPLATE_DIR\n          });\n        }\n      }\n    ];\n  }\n}\n"]}